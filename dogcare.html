<!DOCTYPE html>
<html lang="nb">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dogcare</title>
    <link rel="stylesheet" href="./dog-care.css" />
  </head>
  <body>
    <header>
      <nav>
        <a href="./dating.html"
          ><div class="nav-div dating"><p>Dating</p></div></a
        >
        <a href="./dogcare.html"
          ><div class="nav-div dog-care"><p>Dog-care</p></div></a
        >
      </nav>
    </header>
    <main>
      <div class="chat-box">
        <div class="chat-name">
          <div class="img-div">
            <img
              src="./dogcare-assets/profile-photo.jpg"
              alt="Profilbilde"
              id="owner-picture"
            />
          </div>
          <div class="owner-info">
            <h1 id="owner-name">Test for styling</h1>
            <h2 id="owner-location">Chicago, Illinois</h2>
          </div>
          <img
            src="./dogcare-assets/close.png"
            alt="close chat button"
            id="close-button"
          />
        </div>
        <div class="chat-messages">
          <div class="messages"></div>
        </div>
        <div class="chat-text-section">
          <input
            type="text"
            placeholder="Skriv melding...."
            class="chat-text-input"
          />
          <input type="button" value="Send" class="chat-send-button" />
        </div>
      </div>
    </main>
    <footer>
      <img
        src="./dogcare-assets/test.jpg"
        alt="Testknapp"
        class="test-img"
        id="test-button"
      />
    </footer>
    <script>
      // Lager script her foreløpig så får vi heller flytte den senere :)

      //oppgave 5.1
      const testBtn = document.getElementById("test-button");
      const closeBtn = document.getElementById("close-button");
      const ownerImg = document.getElementById("owner-picture");
      const ownerName = document.getElementById("owner-name");
      const ownerLocation = document.getElementById("owner-location");
      let chatOpen = false;

      testBtn.onclick = chatBox;
      closeBtn.onclick = closeChat;
      // Må gjøre om for å hente ut riktig eier sin info, basert på hvilket kort man trykker på.
      function chatBox() {
        chatOpen = true;
        const chatDiv = document.querySelector(".chat-box");
        chatDiv.style.display = "flex";
        /* ownerImg.src = owner.picture.large;
        ownerImg.alt = "eier";
        ownerName.innerHTML = `${owner.name.first} ${owner.name.last}`;
        ownerLocation.innerHTML = `${owner.location.city}, ${owner.location.state}`; */

        if (chatOpen === true) {
          console.log("test");
          const chatTextInput = document.querySelector(".chat-text-input");
          const chatSendBtn = document.querySelector(".chat-send-button");
          chatSendBtn.addEventListener("click", sendMessage);
          chatTextInput.addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              sendMessage();
              chatTextInput.value = "";
            }
          });
        }
      }

      function closeChat() {
        chatOpen = false;
        const chatDiv = document.querySelector(".chat-box");
        chatDiv.style.display = "none";
      }

      function sendMessage() {}
    </script>
  </body>
</html>
